"use strict";(self.webpackChunkdoc_epshad=self.webpackChunkdoc_epshad||[]).push([[305],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=n.createContext({}),u=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},d=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=u(a),m=i,f=c["".concat(l,".").concat(m)]||c[m]||p[m]||o;return a?n.createElement(f,r(r({ref:t},d),{},{components:a})):n.createElement(f,r({ref:t},d))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=a.length,r=new Array(o);r[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var u=2;u<o;u++)r[u]=a[u];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},8054:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var n=a(7462),i=(a(7294),a(3905));const o={sidebar_position:3},r="Configuration post-installation",s={unversionedId:"installation/configuration",id:"installation/configuration",title:"Configuration post-installation",description:"La plupart des options de configuration ne deviennent disponibles qu'une fois l'installation initiale faite. Les \xe9tapes ci-dessous finalisent donc l'installation avec la configuration standard de la PAD+ et d'autres configurations manuelles.",source:"@site/docs/installation/configuration.md",sourceDirName:"installation",slug:"/installation/configuration",permalink:"/pad-doc/installation/configuration",draft:!1,editUrl:"https://github.com/e-PSHAD/pad-doc/edit/main/docs/installation/configuration.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"D\xe9ploiement initial",permalink:"/pad-doc/installation/deploiement"},next:{title:"Visioconf\xe9rence",permalink:"/pad-doc/installation/visioconference"}},l={},u=[{value:"Configuration automatique",id:"configuration-automatique",level:2},{value:"Configuration manuelle",id:"configuration-manuelle",level:2},{value:"Configuration du tableau de bord par d\xe9faut",id:"configuration-tableau-de-bord",level:3},{value:"Guide pas-\xe0-pas de configuration du tableau de bord par d\xe9faut",id:"guide-pas-\xe0-pas-de-configuration-du-tableau-de-bord-par-d\xe9faut",level:4},{value:"Vues des tableaux de bord standards",id:"vues-des-tableaux-de-bord-standards",level:4},{value:"Visites guid\xe9es",id:"visite-guidee",level:3},{value:"Etapes suivantes",id:"etapes-suivantes",level:2}],d={toc:u};function p(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,n.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"configuration-post-installation"},"Configuration post-installation"),(0,i.kt)("p",null,"La plupart des options de configuration ne deviennent disponibles qu'une fois l'installation initiale faite. Les \xe9tapes ci-dessous finalisent donc l'installation avec la configuration standard de la PAD+ et d'autres configurations manuelles."),(0,i.kt)("h2",{id:"configuration-automatique"},"Configuration automatique"),(0,i.kt)("p",null,"La configuration automatique standard de la PAD+ est d\xe9crite dans le ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/e-PSHAD/pad-infra/blob/main/ansible-playbooks/vars/pad_config_vars.yml"},"fichier pad_config_vars.yml"),". Ce fichier est exploit\xe9 par le ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/e-PSHAD/pad-infra/blob/main/ansible-playbooks/moosh_config_set.yml"},"playbook Ansible moosh_config_set.yml")," pour configurer le serveur Moodle \xe0 distance avec l'outil ",(0,i.kt)("a",{parentName:"p",href:"https://moosh-online.com/"},"Moosh")," (install\xe9 automatiquement par le playbook). Il faut utiliser le fichier d'inventaire cr\xe9\xe9 pour le d\xe9ploiement (e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"my-pad.hosts.yml"),") pour lancer le playbook :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"ansible-playbook moosh_config_set.yml -i my-pad.hosts.yml -u root\n")),(0,i.kt)("p",null,"Cela permet par exemple de configurer le fuseau horaire, activer la recherche globale, d\xe9sactiver des options des menus... Pour identifier un param\xe8tre, voir ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/e-PSHAD/pad-infra/blob/main/moosh-config.md"},"l'explication de la configuration automatique"),"."),(0,i.kt)("p",null,"La configuration automatique change aussi certaines permissions par d\xe9faut. Par exemple elle interdit la modification du tableau de bord pour les usagers mais surtout elle fixe les ",(0,i.kt)("a",{parentName:"p",href:"/organisation/contenu"},"permissions des r\xf4les dans une organisation PAD+"),"."),(0,i.kt)("h2",{id:"configuration-manuelle"},"Configuration manuelle"),(0,i.kt)("p",null,"Suivant l'environnement de production, il reste plusieurs options de base \xe0 v\xe9rifier ou configurer :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"configuration du ",(0,i.kt)("a",{parentName:"li",href:"#configuration-tableau-de-bord"},"tableau de bord PAD+ par d\xe9faut")," (ci-dessous)"),(0,i.kt)("li",{parentName:"ul"},"configuration du ",(0,i.kt)("a",{parentName:"li",href:"https://docs.moodle.org/311/en/Mail_configuration#Outgoing_mail_configuration"},"serveur de mail sortant (MoodleDoc)")," dans ",(0,i.kt)("em",{parentName:"li"},"Administration du site / Serveur / (Courriel) / Configuration du courriel sortant"),", pour l'envoi des rappels, notifications, etc."),(0,i.kt)("li",{parentName:"ul"},"mise en place des ",(0,i.kt)("a",{parentName:"li",href:"https://docs.moodle.org/311/en/Site_backup"},"backups (MoodleDoc)")),(0,i.kt)("li",{parentName:"ul"},"gestion des ",(0,i.kt)("a",{parentName:"li",href:"https://docs.moodle.org/311/en/Session_handling"},"sessions (MoodleDoc)")," dans ",(0,i.kt)("inlineCode",{parentName:"li"},"config.php")," : par d\xe9faut dans des fichiers, il est recommand\xe9 ",(0,i.kt)("a",{parentName:"li",href:"https://docs.moodle.org/311/en/Session_handling#Redis_session_driver"},"d'utiliser un serveur Redis (MoodleDoc)")," pour des installations performantes"),(0,i.kt)("li",{parentName:"ul"},"configuration d'un ",(0,i.kt)("a",{parentName:"li",href:"https://docs.moodle.org/311/en/Installing_Moodle#Final_configuration"},"proxy ou autre option (MoodleDoc)"))),(0,i.kt)("p",null,"La documentation Moodle contient de nombreux \xe9l\xe9ments pour la ",(0,i.kt)("a",{parentName:"p",href:"https://docs.moodle.org/311/en/Managing_a_Moodle_site"},"gestion d'un site Moodle (MoodleDoc)"),". Voici quelques pointeurs pour approfondir le sujet :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://docs.moodle.org/311/en/Performance"},"conseils de performance (MoodleDoc)"),", en particulier gestion des ",(0,i.kt)("a",{parentName:"li",href:"https://docs.moodle.org/311/en/Caching"},"syst\xe8mes de cache (MoodleDoc)")),(0,i.kt)("li",{parentName:"ul"},"conseils de ",(0,i.kt)("a",{parentName:"li",href:"https://docs.moodle.org/311/en/Security"},"s\xe9curit\xe9 (MoodleDoc)"))),(0,i.kt)("h3",{id:"configuration-tableau-de-bord"},"Configuration du tableau de bord par d\xe9faut"),(0,i.kt)("p",null,"Apr\xe8s connexion, l'usager arrive directement sur son tableau de bord. Il est donc important de configurer le ",(0,i.kt)("strong",{parentName:"p"},"tableau de bord par d\xe9faut")," pour ne garder que l'essentiel \xe0 afficher. La configuration ci-dessous sera appliqu\xe9e au tableau de bord de tous les nouveaux utilisateurs (et aux anciens utilisateurs si requis)."),(0,i.kt)("p",null,"La ",(0,i.kt)("strong",{parentName:"p"},"configuration standard d'un tableau de bord PAD+")," contient les 4 blocs suivant :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},'PAD+ progression stagiaire ("Mon parcours", ',(0,i.kt)("strong",{parentName:"li"},"\xe0 ajouter"),", visible uniquement pour les stagiaires)"),(0,i.kt)("li",{parentName:"ul"},"Vue d'ensemble des s\xe9quences (pr\xe9sent par d\xe9faut, toutes les s\xe9quences auxquelles il participe en tant que stagiaire, formateur ou autre)"),(0,i.kt)("li",{parentName:"ul"},"\xc9v\xe9nements \xe0 venir (pr\xe9sent par d\xe9faut, colonne de droite)"),(0,i.kt)("li",{parentName:"ul"},"PAD+ visioconf\xe9rence (",(0,i.kt)("strong",{parentName:"li"},"\xe0 ajouter"),", visible uniquement pour les professionnels)")),(0,i.kt)("p",null,"Tous les autres blocs par d\xe9faut de Moodle sont donc ",(0,i.kt)("strong",{parentName:"p"},"\xe0 enlever"),"."),(0,i.kt)("p",null,"Vue en mode \xe9dition du tableau de bord par d\xe9faut configur\xe9e pour la PAD+ :\n",(0,i.kt)("img",{alt:"Configuration standard du tableau de bord PAD+",src:a(8654).Z,width:"967",height:"485"})),(0,i.kt)("h4",{id:"guide-pas-\xe0-pas-de-configuration-du-tableau-de-bord-par-d\xe9faut"},"Guide pas-\xe0-pas de configuration du tableau de bord par d\xe9faut"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Allez dans l'administration \xe0 la page ",(0,i.kt)("em",{parentName:"li"},"Administration du site / Pr\xe9sentation / ",(0,i.kt)("strong",{parentName:"em"},"Tableau de bord par d\xe9faut"),".")),(0,i.kt)("li",{parentName:"ol"},'Cliquez sur le bouton "Activer l\'\xe9dition des blocs".'),(0,i.kt)("li",{parentName:"ol"},'Cliquez sur le bouton "Ajouter un bloc" dans le menu lat\xe9ral.'),(0,i.kt)("li",{parentName:"ol"},"Choisir le bloc ",(0,i.kt)("strong",{parentName:"li"},'"PAD+ progression stagiaire"')," dans la liste.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Choix du bloc &quot;PAD+ progression stagiaire&quot; dans la liste d&#39;ajout des blocs",src:a(5678).Z,width:"637",height:"163"})),(0,i.kt)("ol",{start:5},(0,i.kt)("li",{parentName:"ol"},"Le ",(0,i.kt)("strong",{parentName:"li"},"d\xe9placer en t\xeate de page"),' en utilisant l\'ic\xf4ne "drag and drop" (par d\xe9faut, il est ajout\xe9 tout en bas de la colonne de droite).'),(0,i.kt)("li",{parentName:"ol"},"Ajouter aussi le bloc ",(0,i.kt)("strong",{parentName:"li"},'"PAD+ visioconf\xe9rence"')," ",(0,i.kt)("a",{parentName:"li",href:"/installation/visioconference"},"si vous avez la visioconf\xe9rence"),".")),(0,i.kt)("p",null,"Il faut ensuite enlever tous les blocs ci-dessous, car ils ne font pas partie de la configuration standard."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Plans de formation (dans la partie principale)"),(0,i.kt)("li",{parentName:"ul"},"S\xe9quences consult\xe9es r\xe9cemment (dans la partie principale)"),(0,i.kt)("li",{parentName:"ul"},"Chronologie"),(0,i.kt)("li",{parentName:"ul"},"Fichiers personnels"),(0,i.kt)("li",{parentName:"ul"},"Utilisateurs en ligne"),(0,i.kt)("li",{parentName:"ul"},"Derniers badges"),(0,i.kt)("li",{parentName:"ul"},"Calendrier")),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},"Cliquez sur l'ic\xf4ne de param\xe8tres d'un bloc pour ouvrir son menu d\xe9roulant."),(0,i.kt)("li",{parentName:"ol"},'S\xe9lectionnez l\'option "Supprimer le bloc ..." et confirmez la suppression.')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Option de suppression dans le menu de param\xe8tre d&#39;un bloc",src:a(5676).Z,width:"377",height:"269"})),(0,i.kt)("ol",{start:9},(0,i.kt)("li",{parentName:"ol"},"R\xe9p\xe9tez pour chaque bloc \xe0 supprimer."),(0,i.kt)("li",{parentName:"ol"},"Pour appliquer les changements \xe0 tous les usagers d\xe9j\xe0 existant, cliquez sur ",(0,i.kt)("strong",{parentName:"li"},"R\xe9initialiser le tableau de bord de tous les utilisateurs")," en haut."),(0,i.kt)("li",{parentName:"ol"},'Cliquez sur le bouton "D\xe9sactiver l\'\xe9dition des blocs" pour sortir du mode.')),(0,i.kt)("h4",{id:"vues-des-tableaux-de-bord-standards"},"Vues des tableaux de bord standards"),(0,i.kt)("p",null,"Vue du tableau de bord d'un stagiaire. Celui-ci voit le bloc de progression mais pas le bloc visioconf\xe9rence."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Vue du tableau de bord d&#39;un stagiaire",src:a(7140).Z,width:"1025",height:"726"})),(0,i.kt)("p",null,"Vue du tableau de bord d'un gestionnaire ou d'un professionnel. Celui-ci voit le bloc visioconf\xe9rence mais pas le bloc de progression."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Vue du tableau de bord d&#39;un gestionnaire ou d&#39;un professionnel",src:a(5076).Z,width:"1241",height:"463"})),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},"Le th\xe8me PAD+ a \xe9t\xe9 travaill\xe9 pour la configuration standard du tableau de bord. L'int\xe9gration graphique des blocs non standards peut donc \xeatre perfectible."),(0,i.kt)("li",{parentName:"ul"},"L'\xe9tape ",(0,i.kt)("a",{parentName:"li",href:"#configuration-automatique"},"configuration automatique")," enl\xe8ve la permission aux utilisateurs de modifier leur propre tableau de bord."),(0,i.kt)("li",{parentName:"ul"},"Voir la ",(0,i.kt)("a",{parentName:"li",href:"https://docs.moodle.org/3x/fr/Tableau_de_bord"},"documentation g\xe9n\xe9rique sur le  tableau de bord (MoodleDoc)"),".")))),(0,i.kt)("h3",{id:"visite-guidee"},"Visites guid\xe9es"),(0,i.kt)("p",null,"Les ",(0,i.kt)("a",{parentName:"p",href:"https://docs.moodle.org/3x/fr/Visites_guid%C3%A9es"},"visites guid\xe9es (MoodleDoc)")," sont un m\xe9canisme int\xe9gr\xe9 \xe0 Moodle. Elles affichent des didacticiels aux utilisateurs pour mettre en \xe9vidence les fonctionnalit\xe9s cl\xe9s, par exemple quand ils arrivent la premi\xe8re fois sur une activit\xe9."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Affichage de la derni\xe8re \xe9tape de la visite guid\xe9e sur la page &quot;Mes s\xe9quences&quot;",src:a(8108).Z,width:"607",height:"603"})),(0,i.kt)("p",null,"Cette section propose d'installer une visite guid\xe9e sur la ",(0,i.kt)("strong",{parentName:"p"},'page "Mes s\xe9quences"'),", qui est une nouveaut\xe9 de la PAD+, pour expliquer les filtres de navigation."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"T\xe9l\xe9charger ",(0,i.kt)("a",{parentName:"li",href:"pathname:///ressources/tour_export_6_1655833488.json"},'l\'archive de la visite guid\xe9e "Mes s\xe9quences"'),"."),(0,i.kt)("li",{parentName:"ol"},"Aller sur la page ",(0,i.kt)("em",{parentName:"li"},"Administration du site / Pr\xe9sentation / ",(0,i.kt)("strong",{parentName:"em"},"Visites guid\xe9es"),". ")),(0,i.kt)("li",{parentName:"ol"},"Cliquer sur le bouton ",(0,i.kt)("em",{parentName:"li"},"Importer une visite guid\xe9e")," en bas de la page."),(0,i.kt)("li",{parentName:"ol"},"D\xe9poser l'archive de la visite guid\xe9e et cliquer sur le bouton ",(0,i.kt)("em",{parentName:"li"},"Enregistrer"),".")),(0,i.kt)("p",null,"Quand l'import est fait, la configuration des \xe9tapes de la visite guid\xe9e s'affiche. La visite guid\xe9e est active d\xe8s ce moment pour tous les utilisateurs."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Affichage des \xe9tapes dans la configuration de la visite guid\xe9e &quot;Mes s\xe9quences&quot;",src:a(5870).Z,width:"795",height:"663"})),(0,i.kt)("h2",{id:"etapes-suivantes"},"Etapes suivantes"),(0,i.kt)("p",null,"Il y a encore plusieurs \xe9tapes pour rendre une instance PAD+ fonctionnelle : vous pouvez consulter la page d'",(0,i.kt)("a",{parentName:"p",href:"/organisation/contenu"},"organisation du contenu")," qui explique le mod\xe8le PAD+ pour h\xe9berger plusieurs sites sur la m\xeame instance ; puis la page ",(0,i.kt)("a",{parentName:"p",href:"/organisation/donnees"},"Cr\xe9ation et import de donn\xe9es")," pour faciliter la cr\xe9ation ou la migration initiale des donn\xe9es."),(0,i.kt)("p",null,"La page suivante explique les ",(0,i.kt)("a",{parentName:"p",href:"/installation/visioconference"},"possibilit\xe9s d'int\xe9gration d'un serveur de visioconf\xe9rence BigBlueButton")," dans la PAD+."),(0,i.kt)("p",null,"Vous pouvez aussi voir comment ",(0,i.kt)("a",{parentName:"p",href:"https://docs.moodle.org/311/en/Authentication"},"cr\xe9er des comptes utilisateurs (MoodleDoc)"),", via connexion \xe0 un annuaire, ",(0,i.kt)("a",{parentName:"p",href:"https://docs.moodle.org/3x/fr/Cr%C3%A9ation_manuelle_de_comptes"},"enregistrement manuel (MoodleDoc)"),", ",(0,i.kt)("a",{parentName:"p",href:"https://docs.moodle.org/3x/fr/Importer_des_utilisateurs"},"import d'un fichier CSV (MoodleDoc)"),"... Il faudra ensuite proc\xe9der \xe0 ",(0,i.kt)("a",{parentName:"p",href:"/organisation/roles"},"l'attribution des r\xf4les")," pour ajouter par exemple d'autres administrateurs."))}p.isMDXComponent=!0},5678:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dashboard-addblock-8314bb9d92fb9f3c647f4d6cc4e1701a.png"},8654:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dashboard-config-658e040c8a77693c23129685390463f9.png"},5676:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dashboard-deleteblock-7ffdac883745864c79b5b6e4ce14863a.png"},7140:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dashboard-student-07bce2342b1a95c101a94fbe3be5a7e0.png"},5076:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dashboard-visio-df5b80657e132581bb8d9af484b4ffd5.png"},8108:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/user_tour-167c5b100805a42905fa502a20ffda8c.png"},5870:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/user_tour_import_ok-441b4d159f52a5b3f06dc6d1be94768f.png"}}]);